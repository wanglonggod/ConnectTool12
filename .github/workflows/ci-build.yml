name: C++ Build

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout repository
      uses: actions/checkout@v3

    # ğŸ§± å®‰è£…æ‰€æœ‰å¸¸ç”¨å›¾å½¢æ¸²æŸ“ä¾èµ– ï¼ˆOpenGL / GLFW / GLM / Assimp / Glewï¼‰
    - name: Install OpenGL & GLFW & GLM & Assimp & Glew dependencies
      run: |
        sudo apt update
        sudo apt install -y \
          build-essential \
          cmake \
          libgl1-mesa-dev \
          libglu1-mesa-dev \
          freeglut3-dev \
          mesa-common-dev \
          libglfw3-dev \
          libglew-dev \
          libglm-dev \
          libassimp-dev

    # ğŸ› ï¸ CMake é…ç½®
    - name: Configure CMake
      run: cmake -S . -B build

    # ğŸ”¨ ç¼–è¯‘
    - name: Build
      run: cmake --build build --config Release

